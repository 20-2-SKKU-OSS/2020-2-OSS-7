---
title: 크롤링 진행률 표시 추가
categories: [JungJihye]
comments: true
---
크롤러를 사용할 때 꽤 오래걸리는 작업을 얼마나 진행되었는지 모른 체 기다리는 데에 불편함이 있다.
그래서 크롤링이 얼마나 진행되었는지 표시하는 코드를 추가하는 작업을 맡았다. 


언론사별로 크롤링해오는 함수인 press_crawling의 aid 인자가 총 크롤링해올 기사의 개수를 가지고 있으므로
전체 개수를 이용하여 (현재 크롤링한 개수/전체 크롤링할 개수)를 백분율로 나타내어 출력할까 생각해보았지만 숫자가 바뀔 때마다 출력을 하면 너무 지저분할 것 같았다. 
또, 리눅스에서 프로그램을 다운받을때 표시되는 방식인 백분율이 증가할 때마다 '#'을 출력해주는 것도 생각해 보았지만,
직관적이지 않을 것 같았다. 



그러던 중, tqdm이라는 오픈소스를 발견했고, 이를 이용하면 손쉽게 진행 상황을 나타낼 수 있었다.
사용법도 아주 간단하다.
1. "pip install tqdm"으로 설치를 해준다.
2. for문에서 range부분을 tqdm()으로 감싸준다.
<pre><code>
for i in tqdm(range(10))
  i+=1
 </code></pre>


이런식으로 press_crawling 함수에 대해 크롤링 진행률을 표시해주었다.
![crawling_status](https://user-images.githubusercontent.com/65387279/100881590-73d47c00-34f1-11eb-8d6e-0f6cf52fecd0.PNG)


이제 기존 crawling() 함수에 대해서도 구현을 해볼 예정인데 그 함수가 정상적으로 작동하지 않아 검토 중이다.
